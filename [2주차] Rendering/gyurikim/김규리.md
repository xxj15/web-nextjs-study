# Server Component

## μ„λ²„ μ»΄ν¬λ„νΈλ€?

React Server Componentsλ” UIλ¥Ό μ„λ²„μ—μ„ λ λ”λ§ν•κ³  μ„ νƒμ μΌλ΅ μΊμ‹±ν•  μ μλ” κΈ°λ¥μ„ μ κ³µν•λ‹¤. Next.jsμ—μ„λ” λΌμ°νΈ(route)κΈ°μ¤€μΌλ΅ λ‚λ„μ–΄ λ λ”λ§ν•λ‹¤. λ λ”λ§ μ „λµμ€ ν¬κ² μ„Έκ°€μ§€κ°€ μλ‹¤.

> - Static Rendering (μ •μ  λ λ”λ§)
> - Dynamic Rendering (λ™μ  λ λ”λ§)
> - Streaming (μ¤νΈλ¦¬λ°)

## μ„λ²„ μ»΄ν¬λ„νΈ λ λ”λ§ κ³Όμ •

μ„λ²„μ—μ„, Next.jsλ” Reactμ APIλ¥Ό μ‚¬μ©ν•μ—¬ λ λ”λ§μ„ μ΅°μ •ν•©λ‹λ‹¤. λ λ”λ§ μ‘μ—…μ€ **route(λΌμ°νΈ)** μ„Έκ·Έλ¨ΌνΈμ™€ **Suspense κ²½κ³„**λ΅ λ‚λ‰©λ‹λ‹¤.

κ° μ²­ν¬λ” λ‘ λ‹¨κ³„λ΅ λ λ”λ§λ©λ‹λ‹¤.

### π“΅ μ„λ²„μ—μ„

![](https://velog.velcdn.com/images/dev_grit/post/77b84200-dfc8-4515-966e-c554799d6740/image.png)

1. **[μ„λ²„ μ»΄ν¬λ„νΈ μ‹¤ν–‰]** Reactλ” Server Componentsλ¥Ό **React Server Component Payload (RSC Payload)** λΌλ” νΉλ³„ν• λ°μ΄ν„° ν•μ‹μΌλ΅ λ λ”λ§ν•©λ‹λ‹¤.
   ![](https://velog.velcdn.com/images/dev_grit/post/7a04e454-a5cc-49e2-a223-8d610f400cd9/image.png)

2. **[ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ‹¤ν–‰]** Next.jsλ” **RSC Payload**μ™€ **Client Component JavaScript μ½”λ“**λ¥Ό μ‚¬μ©ν•μ—¬ HTMLμ„ μ„λ²„μ—μ„ μƒμ„±ν•λ‹¤.

### π‘©π»β€π’» ν΄λΌμ΄μ–ΈνΈμ—μ„

1. μ „λ‹¬ λ°›μ€ **μ‚¬μ „ λ λ”λ§λ HTML**μ„ λ³΄μ—¬μ¤€λ‹¤. (FCP κ°μ„ )

2. ν΄λΌμ΄μ–ΈνΈλ΅ **RSC Payload μ „λ‹¬ν•μ—¬ μ‚¬μ©ν•λ‹¤**. (μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ—°κ²°ν•κ³ , DOMμ„ μ—…λ°μ΄νΈ ν•κΈ° μ„ν•΄μ„ ν•„μ”)
   [β­οΈ λ” μ•μ•„λ³΄κΈ°](https://www.inflearn.com/community/questions/1396752/rsc-payload%EC%97%90-%EB%8C%80%ED%95%B4-%EA%B6%81%EA%B8%88%ED%95%A9%EB%8B%88%EB%8B%A4)

3.(ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ κ²½μ°) **JavaScript μ½”λ“λ¥Ό μ‹¤ν–‰**μ‹μΌ Client Componentsλ¥Ό **Hydration**ν•μ—¬ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μΈν„°λ ‰μ… κ°€λ¥ν•λ„λ΅ λ³€κ²½ν•λ‹¤.

## μ„λ²„ λ λ”λ§ μ „λµ

![](https://velog.velcdn.com/images/dev_grit/post/5785d9f8-15a7-4210-aa10-3c2da1531989/image.png)

### Static Rendering (μ •μ  λ λ”λ§)

![](https://velog.velcdn.com/images/dev_grit/post/59573c73-3d2d-47e2-a728-a28454755ef1/image.png)

Next.jsμ **κΈ°λ³Έμ μΈ λ λ”λ§ λ°©μ‹**μ΄λ‹¤. μ •μ  λ λ”λ§μ„ μ‚¬μ©ν•λ©΄, κ²½λ΅(route)κ°€ **λΉλ“ μ‹κ°„**μ— λ λ”λκ±°λ‚, λ°μ΄ν„° μ¬κ²€μ¦μ΄ λλ‚¬μ„ λ• λ λ”λλ‹¤.

μ •μ  λ λ”λ§μ€ κ°μΈν™”λ νμ΄μ§€κ°€ μ•„λ‹, μ‚¬μ©μ κµ¬λ¶„ μ—†μ΄ κ°™μ€ λ‚΄μ©μ„ λ³΄μ—¬μ¤μ•Όν•  λ•, μ μ©ν•λ‹¤.

> μμ‹) μ •μ  λΈ”λ΅κ·Έ κ²μ‹λ¬Ό, μ ν’ νμ΄μ§€

### Dynamic Rendering (λ™μ  λ λ”λ§)

![](https://velog.velcdn.com/images/dev_grit/post/c7096ab0-099a-4cd1-9c71-817cd82b5591/image.png)

λ™μ  λ λ”λ§μ€ **μ‚¬μ©μλ΅λ¶€ν„° μ”μ²­λ°›μ•μ„ λ•**, κ²½λ΅(route)κ°€ λ λ”λ§ λλ‹¤.

λ™μ  λ λ”λ§μ€ μ‚¬μ©μλ§λ‹¤ λ°μ΄ν„°κ°€ λ‹¬λΌ κ°μΈμ μΈ νμ΄μ§€λ¥Ό λ³΄μ—¬μ¤μ•Όν•κ±°λ‚, μ”μ²­ μ‹μ—λ§ μ• μ μλ” μ •λ³΄κ°€ νμ΄μ§€μ—μ„ ν•„μ”ν• κ²½μ° μ μ©ν•λ‹¤. μλ¥Ό λ“¤μ–΄, **μΏ ν‚¤(cookie)** κ°€ ν•„μ”ν• κ²½μ°λ‚ **URLμ search params**κ°€ μλ” κ²½μ°κ°€ μλ‹¤.

#### λ™μ  λ λ”λ§μΌλ΅ λ™μ‘ν•λ” κ²½μ°

`Dynamic API`μ μ‚¬μ© μ—¬λ¶€μ™€, `fetch` ν•¨μλ¥Ό `{ cache: 'no-store' }` μµμ…κ³Ό ν•¨κ» μ‚¬μ©ν–λ”μ§€ μ—¬λ¶€μ— λ”°λΌ λ™μ  λ λ”λ§μ„ ν• μ§€ μ •μ  λ λ”λ§μ„ ν• μ§€ κ²°μ •ν•λ‹¤.
![κ³µμ‹λ¬Έμ„](https://velog.velcdn.com/images/dev_grit/post/5ce5099d-d325-4d92-8511-f0eb3be8f55d/image.png)

μ–΄λ–¤ λ λ”λ§μΌλ΅ λ™μ‘ν• μ§€λ” μ„ μƒν™©μ— λ”°λΌ, Next.jsκ°€ κ°€μ¥ μµμ μ λ°©μ‹μΌλ΅ μλ™ κ²°μ •ν•΄μ£ΌκΈ° λ•λ¬Έμ—, μ΄λ¥Ό κ°λ°μκ°€ κ³ λ―Όν•  ν•„μ”λ” μ—†λ‹¤.

> #### λ™μ  APIλ€?
>
> λ™μ  APIλ” μ‚¬μ „ λ λ”λ§ μ‹μ μ—λ” μ• μ μ—†κ³ , μ”μ²­ μ‹μ μ—λ§ μ• μ μλ” μ •λ³΄μ— μμ΅΄ν•λ” APIλ¥Ό λ§ν•λ‹¤. μ΄λ¬ν• APIλ¥Ό μ‚¬μ©ν•λ©΄ κ°λ°μκ°€ ν•΄λ‹Ή κ²½λ΅λ¥Ό μ”μ²­ μ‹μ μ—μ„ λ™μ μΌλ΅ λ λ”λ§ν•κ² λ‹¤λ” μλ„λ¥Ό λ‚νƒ€λ‚΄λ” κ²ƒμ΄λ©°, ν•΄λ‹Ή κ²½λ΅ μ „μ²΄κ°€ λ™μ  λ λ”λ§μΌλ΅ μ „ν™λλ‹¤.
> μμ‹) `cookies`, `headers`, `connection`, `draftMode`, `searchParams` prop, `unstable_noStore`

### Streaming (μ¤νΈλ¦¬λ°)

μ¤νΈλ¦¬λ°μ€ μ„λ²„μ—μ„ UIλ¥Ό μ²­ν¬λ΅ λ‚λ„μ–΄ ν΄λΌμ΄μ–ΈνΈμ— μ¤νΈλ¦¬λ°ν•  μ μκ² ν•λ‹¤. μ‘μ—…μ€ μ²­ν¬ λ‹¨μ„λ΅ λ‚λ‰μ–΄ μ¤€λΉ„κ°€ λλ©΄ ν΄λΌμ΄μ–ΈνΈμ— μ¤νΈλ¦¬λ°λλ©°, μ‚¬μ©μκ°€ νμ΄μ§€μ μΌλ¶€λ¥Ό μ¦‰μ‹ λ³Ό μ μκ² ν•λ‹¤.

# Client Component

## Client Componentλ€?

![](https://velog.velcdn.com/images/dev_grit/post/d851e87b-5f8e-449b-9a33-2d5cfcddfaa4/image.png)

Client Componentλ” ν΄λ¦­ μ΄λ²¤νΈ λ“± μ‚¬μ©μμ™€ μƒνΈμ‘μ©ν•  μ μλ” μ»΄ν¬λ„νΈλ‹¤.
Client Componentλ” **μ„λ²„μ—μ„ λ―Έλ¦¬ λ λ”λ§λ ν›„ (μ‚¬μ „ λ λ”λ§ κ³Όμ •)**, **ν΄λΌμ΄μ–ΈνΈμ—μ„λ„ JS μ½”λ“λ¥Ό μ‹¤ν–‰μ‹μΌ** μƒνΈμ‘μ©ν•  μ μκ² λ§λ“ λ‹¤.

### ν΄λΌμ΄μ–ΈνΈ λ λ”λ§μ μ¥μ 

- **μƒνΈμ‘μ©**: Client Componentsλ” μƒνƒ, ν¨κ³Ό λ° μ΄λ²¤νΈ λ¦¬μ¤λ„λ¥Ό μ‚¬μ©ν•  μ μμΌλ―€λ΅ μ‚¬μ©μμ—κ² μ¦‰κ°μ μΈ ν”Όλ“λ°±μ„ μ κ³µν•κ³  UIλ¥Ό μ—…λ°μ΄νΈν•  μ μλ‹¤.

- **λΈλΌμ°μ € API**: Client Componentsλ” `geolocation`μ΄λ‚ `localStorage`
  μ™€ κ°™μ€ λΈλΌμ°μ € APIμ— μ ‘κ·Όν•  μ μλ‹¤.

## Client Component μ‚¬μ©ν•κΈ°

Next.jsμ—μ„ Client Componentsλ¥Ό μ‚¬μ©ν•λ ¤λ©΄, νμΌ μƒλ‹¨μ— `"use client"` μ§€μ‹μ–΄λ¥Ό `import` μ„μ— μ¶”κ°€ν•λ©΄ λλ‹¤.

```tsx
// next.js κ³µμ‹ λ¬Έμ„ μμ‹
"use client"; // μ΄λ ‡κ² μ¶”κ°€ν•λ©΄ λλ‹¤.

import { useState } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

> #### μ—¬λ¬ `use client` μ§„μ…μ μ„ μ •μν•λ” κ²½μ°:
>
> React Component νΈλ¦¬μ—μ„ μ—¬λ¬ `"use client"` μ§„μ…μ μ„ μ •μν•  μ μλ‹¤. ν•μ§€λ§, ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•΄μ•Ό ν•λ” λ¨λ“  μ»΄ν¬λ„νΈμ— `"use client"`λ¥Ό μ •μν•  ν•„μ”λ” μ—†λ‹¤.
> ν• λ² κ²½κ³„λ¥Ό μ •μν•λ©΄ **λ¨λ“  μμ‹ μ»΄ν¬λ„νΈμ™€ importλ λ¨λ“μ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ**λ΅ κ°„μ£ΌλκΈ° λ•λ¬Έμ΄λ‹¤.

## Client Component λ λ”λ§ λ°©μ‹

**μ„λ²„**μ—μ„λ” (**μ‚¬μ „ λ λ”λ§**) :

1. Reactλ” Server Componentsλ¥Ό React Server Component Payload (RSC Payload)λΌλ” νΉλ³„ν• λ°μ΄ν„° ν•μ‹μΌλ΅ λ λ”λ§ν•λ©°, μ—¬κΈ°μ—λ” **Client Componentsμ— λ€ν• μ°Έμ΅°κ°€ ν¬ν•¨**λμ–΄ μλ‹¤.

2. Next.jsλ” RSC Payloadμ™€ Client Component JavaScript μ½”λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ²„μ—μ„ κ²½λ΅μ— λ€ν• **HTMLμ„ λ λ”λ§**ν•λ‹¤.

κ·Έλ° λ‹¤μ **ν΄λΌμ΄μ–ΈνΈ**μ—μ„λ”:

1. μ‚¬μ „ λ λ”λ§ λ HTMLμ„ μ‚¬μ©ν•μ—¬ κ²½λ΅μ— ν•΄λ‹Ήν•λ” νμ΄μ§€λ¥Ό λΉ λ¥΄κ² λ³΄μ—¬μ¤€λ‹¤. **(μƒνΈμ‘μ© X)**

2. React Server Components Payloadλ¥Ό μ‚¬μ©ν•μ—¬ Clientμ™€ Server Component νΈλ¦¬λ¥Ό μ΅°μ •ν•κ³  DOMμ„ μ—…λ°μ΄νΈν•©λ‹λ‹¤.

3. JavaScript μ½”λ“λ¥Ό μ‚¬μ©ν•μ—¬ Client Componentsλ¥Ό Hydrationν•μ—¬, UIλ¥Ό μΈν„°λ™ν‹°λΈν•κ² λ§λ“ λ‹¤.

> **Hydrationμ΄λ€?**
>
> Hydrationμ€ μ΄λ²¤νΈ λ¦¬μ¤λ„λ¥Ό DOMμ— μ—°κ²°ν•μ—¬ μ •μ  HTMLμ„ μΈν„°λ™ν‹°λΈν•κ² λ§λ“λ” κ³Όμ •μ…λ‹λ‹¤. ν•μ΄λ“λ μ΄μ…μ€ `hydrateRoot` React APIλ¥Ό μ‚¬μ©ν•μ—¬ λ°±κ·ΈλΌμ΄λ“μ—μ„ μν–‰λ©λ‹λ‹¤.

## μ΄κΈ° μ ‘μ† μ΄ν›„μ λ„¤μ΄κ²μ΄ν…

μ΄κΈ° μ ‘μ† μ‹μ—λ§, μ‚¬μ „ λ λ”λ§λ νμ΄μ§€λ¥Ό λ³΄μ—¬μ£Όκ³ , μ΄ν›„ **κ²½λ΅ μ΄λ™μ΄ λ°μƒν•λ” κ²½μ°** **Client Componentsκ°€ μ„λ²„ λ λ”λ§λ HTML μ—†μ΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§** λλ‹¤.

κ²½λ΅ μ΄λ™μ΄ λ°μƒν•λ©΄, Client Component JavaScript λ²λ“¤μ΄ λ‹¤μ΄λ΅λ“ν•λ‹¤. λ²λ“¤μ΄ μ¤€λΉ„λλ©΄ Reactλ” RSC Payloadλ¥Ό μ‚¬μ©ν•μ—¬, Clientμ™€ Server Component νΈλ¦¬λ¥Ό μ΅°μ •ν•κ³  DOMμ„ μ—…λ°μ΄νΈν•λ‹¤.

# ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈ ν•¨κ» μ‚¬μ©ν•κΈ°

## μ„λ²„ μ»΄ν¬λ„νΈ, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ‚¬μ© μ‹μ 

| ν•„μ”ν• μ‘μ—…                                           | μ„λ²„ μ»΄ν¬λ„νΈ | ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ |
| ----------------------------------------------------- | ------------- | ------------------- |
| λ°μ΄ν„° κ°€μ Έμ¤κΈ°                                       | β…            | β                  |
| λ°±μ—”λ“ λ¦¬μ†μ¤μ— μ§μ ‘ μ ‘κ·Ό                             | β…            | β                  |
| λ―Όκ°ν• μ •λ³΄ λ³΄κ΄€ (ν† ν°, API ν‚¤ λ“±)                    | β…            | β                  |
| ν° μμ΅΄μ„± μ„λ²„μ— λ‚¨κΈ°κΈ° / ν΄λΌμ΄μ–ΈνΈ JS ν¬κΈ° μ¤„μ΄κΈ°   | β…            | β                  |
| μƒνΈμ‘μ© λ° μ΄λ²¤νΈ λ¦¬μ¤λ„ (onClick, onChange λ“±)      | β            | β…                  |
| μƒνƒ λ° λΌμ΄ν”„μ‚¬μ΄ν΄ ν›… μ‚¬μ© (useState, useEffect λ“±) | β            | β…                  |
| λΈλΌμ°μ € μ „μ© API μ‚¬μ©                                | β            | β…                  |
| μ»¤μ¤ν…€ ν›… μ‚¬μ© (μƒνƒ, effect, λΈλΌμ°μ € API μμ΅΄)      | β            | β…                  |
| React ν΄λμ¤ μ»΄ν¬λ„νΈ μ‚¬μ©                            | β            | β…                  |

---

## μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ” μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈ ν™κ²½μ—μ„ μ κ±°ν•λ‹¤

```ts
import "server-only"; // μ¶”κ°€

export async function getData() {
  const res = await fetch("https://external-service.com/data", {
    headers: {
      authorization: process.env.API_KEY,
    },
  });

  return res.json();
}
```

ν•΄λ‹Ή μ½”λ“λ” μ„λ²„μ—μ„λ§ μ‹¤ν–‰λ  κ²ƒμΌλ΅ μμƒλλ‹¤.`server-only` ν¨ν‚¤μ§€ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬, μ΄λ¥Ό λ³΄μ¥ν•  μ μλ‹¤.

## third-party ν¨ν‚¤μ§€μ™€ provider μ‚¬μ© μ‹

ν΄λΌμ΄μ–ΈνΈ κΈ°λ¥ (useState, useEffect, createContext)μ„ μ‚¬μ©ν•λ” λ§μ€ μ„λ“νν‹° ν¨ν‚¤μ§€λ” μ•„μ§ "use client" μ§€μ‹μ–΄κ°€ λ¶™μ–΄μμ§€ μ•μ€ κ²½μ°κ°€ λ§λ‹¤. μ΄λ° μ»΄ν¬λ„νΈλ“¤μ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄λ¶€μ—μ„λ§ μ •μƒ λ™μ‘ν•λ‹¤. μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ© μ‹ μ—λ¬κ°€ λ‚λ‹¤.

### ν΄λΌμ΄μ–ΈνΈ λ λ”λ§μ„ ν¬ν•¨ν•λ” third-party ν¨ν‚¤μ§€ μ»΄ν¬λ„νΈ μ‚¬μ©ν•κΈ°

```tsx
import { Carousel } from "acme-carousel";

export default function Page() {
  return (
    <div>
      <p>View pictures</p>

      {/* Error: `useState` can not be used within Server Components */}
      <Carousel />
    </div>
  );
}
```

'use client' μ§€μ‹μ–΄λ¥Ό λ¶™μ—¬ export ν•΄μ„ ν•΄λ‹Ή λΌμ΄λΈλ¬λ¦¬μ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ¤λ¥λ¥Ό ν•΄κ²°ν•  μ μλ‹¤.

```tsx
"use client";

import { Carousel } from "acme-carousel";

export default Carousel;
```

### Context Provider μ‚¬μ©ν•κΈ°

React Contextλ” μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ©ν•  μ μ—†λ‹¤. λ”°λΌμ„ Contextλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ Providerλ¥Ό μƒμ„±ν•΄μ•Ό ν•©λ‹λ‹¤.

```tsx
// app/theme-provider.tsx
"use client";
import { createContext } from "react";

export const ThemeContext = createContext({});

export default function ThemeProvider({ children }) {
  return <ThemeContext.Provider value="dark">{children}</ThemeContext.Provider>;
}
```

Providerλ” κ°€λ¥ν• ν• νΈλ¦¬μ κΉμ€ κ³³μ— λ λ”λ§ν•΄μ•Ό μ •μ  μµμ ν™”κ°€ μ‰¬μ›μ§‘λ‹λ‹¤.

```tsx
import ThemeProvider from "./theme-provider";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html>
      <body>
        <ThemeProvider>{children}</ThemeProvider>
      </body>
    </html>
  );
}
```

## ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ νΈλ¦¬ κµ¬μ΅° μµμ ν™”

λ¶ν•„μ”ν•κ² ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό λ£¨νΈμ— λ‘μ§€ λ§κ³ , **μΈν„°λ™μ…μ΄ ν•„μ”ν• λ¶€λ¶„λ§ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ¶„λ¦¬**ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

```tsx
// app/layout.tsx
import SearchBar from "./searchbar"; // ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ
import Logo from "./logo"; // μ„λ²„ μ»΄ν¬λ„νΈ

export default function Layout({ children }) {
  return (
    <>
      <nav>
        <Logo />
        <SearchBar />
      </nav>
      <main>{children}</main>
    </>
  );
}
```

λ§μ•½ λ„λ¬΄ μµμƒμ„μ—μ„ Client Componentλ΅ λ§λ“¤μ–΄λ²„λ¦¬λ©΄, λ¨λ“  μ»΄ν¬λ„νΈ λ‚΄μ©λ“¤μ„ λΈλΌμ°μ €μ—μ„ μ‹¤ν–‰ν•΄μ•Όν•κΈ° λ•λ¬Έμ—(hydration), κ²°κ³Όμ μΌλ΅ JS λ²λ“¤μ„ λ³΄λ‚΄μ•Όν•λ‹¤.
**κ·Έλ¬λ©΄, JSλ¥Ό μ „μ†΅ν•κ³ , μ‹¤ν–‰ν•μ§€ μ•μ•„λ„ λμ„ μ¥μ μ΄μ—λ Server Componentμ μ¥μ μ„ μ¶©λ¶„ν ν™μ©ν•μ§€ λ»ν•λ‹¤.**

### μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ prop μ „λ‹¬ν•κΈ°

μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨ ν›„, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ propsλ΅ μ „λ‹¬ν•  μ μλ‹¤. μ΄λ• Reactλ” ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μ§λ ¬ν™” κ°€λ¥(serializable)ν•΄μ•Ό ν•λ‹¤.

## μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ„μ–΄ μ“°κΈ°

μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬ μ•μ— ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ¤‘μ²©μ‹μΌ μ‚¬μ©ν•λ” κ²½μ°:

- **μ”μ²­-μ‘λ‹µ μ‚¬μ΄ν΄ λ™μ•**, μ„λ²„μ—μ„ λ¨Όμ € λ λ”λ§λ¨
- Reactκ°€ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” RSC Payloadλ¥Ό ν†µν•΄ DOMμ— κ²°ν•©λ¨
- **ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό import ν•λ” κ²ƒμ€ λ¶κ°€λ¥**

#### β μ§€μ›λμ§€ μ•λ” ν¨ν„΄

```tsx
// app/client-component.tsx
"use client";

import ServerComponent from "./Server-Component"; // β
```

μ‹¤μ  Next.jsμ—μ„λ” μ„μ™€ κ°™μ΄ μ‚¬μ©ν• κ²½μ°, Sever Componentλ¥Ό Client Componentλ΅ λ°”κΏ”μ„ ν•΄μ„ν•λ‹¤. ν•μ§€λ§ μ΄λ ‡κ² ν•λ” κ²½μ° μμƒμΉ λ»ν• μ—λ¬κ°€ λ‚  μλ„ μμΌλ‹, μ§€μ–‘ν•΄μ•Ό ν•λ‹¤.

#### β… μ§€μ›λλ” ν¨ν„΄ (propsλ΅ μ „λ‹¬)

```tsx
// app/client-component.tsx
"use client";
import { useState } from "react";

export default function ClientComponent({ children }) {
  const [count, setCount] = useState(0);
  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>
      {children}
    </>
  );
}
```

```tsx
// app/page.tsx
import ClientComponent from "./client-component";
import ServerComponent from "./server-component";

export default function Page() {
  return (
    <ClientComponent>
      <ServerComponent />
    </ClientComponent>
  );
}
```

μ΄ λ°©μ‹μ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ™€ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ¶„λ¦¬ν•  μ μμΌλ©°, μ„λ²„ μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈλ³΄λ‹¤ λ¨Όμ € λ λ”λ§λ  μ μμ–΄μ„ μ‚¬μ© κ°€λ¥ν•λ‹¤.
